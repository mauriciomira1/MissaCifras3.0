// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Artista {
  id           String   @id @default(cuid())
  nome         String
  qtdDeCliques Int
  capa         String?
  cifras       Cifra[]
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

model Cifra {
  id               String     @id @default(cuid())
  musica           String
  slug             String
  versao           String?
  compositor       String?
  tom              String
  bpm              Int?
  video            String?
  letra            String
  cifra            String
  acordes          String[]
  thumbnail        String?
  hashtags         String[]
  classificacao    String
  liturgica        Boolean
  qtdDeCliques     Int
  userId           String
  usuarioQueEnviou User       @relation(fields: [userId], references: [id])
  Playlists        Playlist[]
  Artista          Artista?   @relation(fields: [artistaId], references: [id])
  artistaId        String?
  participacao     String[]
  createdAt        DateTime   @default(now())
  updatedAt        DateTime   @updatedAt
}

model User {
  id           String     @id @default(cuid())
  nome         String?
  email        String?    @unique
  foto         String?
  Playlist     Playlist[]
  Colaboracoes String[]
  Cifra        Cifra[]
  createdAt    DateTime?  @default(now())
}

model Playlist {
  id        String   @id @default(cuid())
  nome      String
  cifras    Cifra[]
  userId    String
  criadoPor User     @relation(fields: [userId], references: [id])
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
